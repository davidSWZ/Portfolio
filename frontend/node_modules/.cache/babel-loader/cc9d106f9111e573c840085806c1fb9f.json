{"ast":null,"code":"var _jsxFileName = \"/Users/davidswiatkiewiez/Documents/Programmation/swz/frontend/src/components/home-edit.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class HomeEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeHomeTitle = this.onChangeHomeTitle.bind(this);\n    this.onChangeHomeDescription = this.onChangeHomeDescription.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      home_title: '',\n      home_description: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/home').then(res => {\n      this.setState({\n        home_title: res.data[0].home_title,\n        home_description: res.data[0].home_description\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  onChangeHomeTitle(e) {\n    console.log(e.target.name);\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onChangeHomeDescription(e) {\n    this.setState({\n      home_description: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    console.log('home_title: ' + this.state.home_title);\n    console.log('home_description: ' + this.state.home_description);\n    const homeUpdate = {\n      home_title: this.state.home_title,\n      home_description: this.state.home_description\n    };\n    axios.post('http://localhost:4000/home/update/5d59b6da50789503228686b6', homeUpdate).then(res => console.log(\"Home updated\")).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      className: \" mt-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section-edit section-edit-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"section-edit-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"HOME\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"input-title\",\n      className: \"col-form-label section-edit-label col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \" Titre du site \"), React.createElement(\"div\", {\n      className: \"col-sm-9 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"input-title\",\n      className: \"form-control input\",\n      name: \"hometitle\",\n      value: this.state.home_title,\n      onChange: this.onChangeHomeTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"input-description\",\n      className: \"col-form-label section-edit-label col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Sous-titre \"), React.createElement(\"div\", {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"input-description\",\n      className: \"form-control input\",\n      placeholder: \"\",\n      value: this.state.home_description,\n      onChange: this.onChangeHomeDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group d-flex justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"enregistrer-btn\",\n      value: \"Enregistrer\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/davidswiatkiewiez/Documents/Programmation/swz/frontend/src/components/home-edit.js"],"names":["React","Component","axios","HomeEdit","constructor","props","onChangeHomeTitle","bind","onChangeHomeDescription","onSubmit","state","home_title","home_description","componentDidMount","get","then","res","setState","data","catch","err","console","log","e","target","name","value","preventDefault","homeUpdate","post","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n\nexport default class HomeEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.onChangeHomeTitle = this.onChangeHomeTitle.bind(this);\n    this.onChangeHomeDescription = this.onChangeHomeDescription.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state={\n      home_title:'',\n      home_description:''\n    }\n  }\n\n  componentDidMount(){\n    axios.get('http://localhost:4000/home')\n      .then(res => {\n        this.setState({\n          home_title: res.data[0].home_title,\n          home_description:res.data[0].home_description\n        })\n      })\n      .catch(function(err) {\n        console.log(err);\n      })\n  }\n\n  onChangeHomeTitle(e) {\n    console.log(e.target.name)\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  onChangeHomeDescription(e) {\n    this.setState({\n      home_description: e.target.value\n    })\n  }\n\n  onSubmit(e){\n    e.preventDefault();\n\n    console.log('home_title: ' + this.state.home_title);\n    console.log('home_description: ' + this.state.home_description);\n\n    const homeUpdate = {\n      home_title : this.state.home_title,\n      home_description : this.state.home_description\n    }\n\n    axios.post('http://localhost:4000/home/update/5d59b6da50789503228686b6', homeUpdate)\n      .then(res => console.log(\"Home updated\"))\n      .catch(function(err) {\n        console.log(err);\n      })\n  }\n\n  render() {\n    return (\n      <section className=' mt-5 '>\n        <div className=\"section-edit section-edit-home\">\n          <h2 className=\"section-edit-title\">HOME</h2>\n          <form onSubmit={this.onSubmit} >\n\n            <div className='form-group row'>\n              <label htmlFor='input-title' className='col-form-label section-edit-label col-sm-2'> Titre du site </label>\n              <div className='col-sm-9 '>\n                <input  type='text'\n                        id='input-title'\n                        className='form-control input'\n                        name='hometitle'\n                        value={this.state.home_title}\n                        onChange={this.onChangeHomeTitle}\n                        />\n              </div>\n            </div>\n\n            <div className='form-group row'>\n              <label htmlFor='input-description' className='col-form-label section-edit-label col-sm-2'>Sous-titre </label>\n              <div className='col-sm-9'>\n                <textarea   id='input-description'\n                            className='form-control input'\n                            placeholder=''\n                            value={this.state.home_description}\n                            onChange={this.onChangeHomeDescription}\n                            >\n                </textarea>\n              </div>\n            </div>\n\n            <div className='form-group d-flex justify-content-end'>\n            <input  className='enregistrer-btn'\n                    value='Enregistrer'\n                    type='submit'\n                    />\n            </div>\n          </form>\n        </div>\n      </section>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}